<Popup>:
    separator_height: 0
    background_color: 9/255, 25/255, 47/255
    title: ""
    title_size: 0

<AsyncImageButton@ButtonBehavior+Image>:

<MainWidget>:
    canvas.before:
        Color:
            rgb: 9/255, 25/255, 47/255
        Rectangle:
            pos: self.pos
            size: self.size

    ScrollView:
        size: root.size

        BoxLayout:
            orientation: 'vertical'
            padding: dp(10)
            size_hint_y: None
            height: self.minimum_height
            Label:
                text: 'Sentiment Analysis on Students Feedback in Campus Events at the City College of Calamba'
                size_hint: 0.95, None
                pos_hint: {'center_x': 0.5 }
                height: dp(40)
                font_size: sp(16)
                text_size: self.width * 0.9, None
                halign: "center"
                bold: True
                color: "#000000"
                shorten: True
                shorten_from: 'right'
                canvas.before:
                    Color:
                        rgb: 0xF2/255, 0xC1/255, 0x5F/255
                    Rectangle:
                        size: self.size
                        pos: self.pos
            
            ResponsiveBox:
                width: root.width
                orientation: 'horizontal'
                spacing: 10
                padding: 10
                size_hint: 0.95, None
                pos_hint: {'center_x': 0.5 }
                height: dp(300)

                BoxLayout:
                    orientation: 'vertical'
                    spacing: dp(10)
                    size_hint_x: 0.6 if root.width > 900 else 1

                    BoxLayout:
                        orientation: 'vertical'

                        Label:
                            text: 'Upload a CSV File'
                            pos_hint: {'center_x': 0.5 }
                            font_size: sp(24)
                            bold: True
                            size_hint_y: None
                            height: dp(30)
                        
                        Label:
                            text: 'Please upload the CSV file with the text data'
                            pos_hint: {'center_x': 0.5 }
                            font_size: sp(14)
                            size_hint_y: None
                            height: dp(20)
                            shorten: True
                            halign: "center"
                            shorten_from: 'right'
                            text_size: self.width * 0.9, None
                        
                        BoxLayout:
                            orientation: 'vertical'
                            padding: dp(10)
                            canvas.before:
                                Color:
                                    # rgb: 40/255,88/255,128/255
                                    # rgb(243,193,94)
                                    rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                Line:
                                    dash_length: 0.5
                                    rectangle: self.x+5, self.y+5, self.width-10, self.height-10
                                
                                Color:
                                    rgb: 79/255,83/255,53/255
                                Rectangle:
                                    size: self.width-20, self.height-20
                                    pos: self.x+10, self.y+10
                            
                            Widget:
                                size_hint_y: None
                                height: dp(10)
                            AsyncImageButton:
                                source: "Assets/2.png"
                                on_release: root.on_image_click()
                            Widget:
                                size_hint_y: None
                                height: dp(10)
                            Label:
                                text: 'Drag and drop or choose a file to upload your data.'
                                pos_hint: {'center_x': 0.5 }
                                size_hint_y: None
                                height: dp(20)
                                font_size: sp(14)
                                halign: 'center'
                                text_size: self.width * 0.9, None
                                shorten: True
                                shorten_from: 'right'
                            Label:
                                text: 'All .csv file supported'
                                pos_hint: {'center_x': 0.5 }
                                size_hint_y: None
                                height: dp(20)
                                font_size: sp(14)
                                halign: 'center'
                                text_size: self.width, None
                            
                            Label:
                                text: root.full_comments_file if root.full_comments_file else "[No File Selected]"
                                pos_hint: {'center_x': 0.5 }
                                size_hint_y: None
                                height: dp(30)
                                font_size: sp(12)
                                halign: 'center'
                                text_size: self.width, None
                                color: (134 / 255, 207 / 255, 111 / 255)
                                shorten: True
                                shorten_from: 'right'
                                text_size: self.width * 0.9, None
                            
                            Button:
                                text: 'SUBMIT'
                                size_hint_y: None
                                size_hint_x: 0.5
                                height: dp(30)
                                pos_hint: {'center_x': 0.5}
                                font_size: sp(24)
                                bold: True
                                color: 0, 0, 0
                                background_normal: ""
                                background_color: 0xF2/255, 0xC1/255, 0x5F/255
                                on_release: root.open_csv()

                            Widget:
                                size_hint_y: None
                                height: dp(10)
                
                StackLayout:
                    orientation: "lr-tb"
                    canvas.before:
                        Color:
                            rgb: 0xF2/255, 0xC1/255, 0x5F/255
                        Line:
                            dash_length: 0.5
                            rectangle: self.x+10, self.y+10, self.width-20, self.height-20

                    Label:
                        text: "Ratings-Based Analysis"
                        size_hint_y: None
                        height: dp(30)
                        color: "#000000"
                        bold: True
                        font_size: sp(18)
                        canvas.before:
                            Color:
                                rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            Rectangle:
                                size: self.width * 0.8, self.height
                                pos: self.x + self.width * 0.1, self.y
                    Widget:
                        size_hint_y: None
                        height: dp(10)
                    Widget:
                        size_hint_x: None
                        width: self.parent.width * 0.05

                    ScrollView:
                        size_hint: None, None
                        width: self.parent.width * 0.9
                        height: dp(220)

                        BoxLayout:
                            size_hint_x: None
                            width: self.minimum_width
                            spacing: dp(5)
                            padding: dp(5)

                            StackLayout:
                                orientation: "lr-tb"
                                width: dp(400)
                                size_hint_x: None
                                canvas.before:
                                    Color:
                                        rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                    Line:
                                        dash_length: 0.5
                                        rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                                Label:
                                    text: root.category_name
                                    size_hint_y: None
                                    height: dp(20)
                                    color: "#000000"
                                    bold: True

                                    canvas.before:
                                        Color:
                                            rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                        RoundedRectangle:
                                            size: self.width * 0.8, self.height
                                            pos: self.x + self.width * 0.1, self.y
                                
                                BoxLayout:
                                    orientation: "horizontal"
                                    AsyncImageButton:
                                        size_hint_x: None
                                        width: 50
                                        source: "Assets/arrow.png"
                                        color: "F2C15F"
                                        on_release: root.prev_subcategory()
                                    GridLayout:
                                        size_hint_x: 0.8
                                        rows: 6
                                        spacing: 10
                                        padding: [dp(20), dp(10), dp(20), dp(50)]

                                        
                                        BoxLayout:
                                            orientation: "horizontal"
                                            Label:
                                                size_hint_x: None
                                                text: "5"
                                                font_size: sp(18)
                                                bold: True
                                                width: dp(30)
                                            Image:
                                                size_hint_x: None
                                                source: "Assets/star.png"
                                                font_size: sp(18)
                                                width: dp(30)
                                            Widget:
                                                id: star_5
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos
                                            Label:
                                                size_hint_x: None
                                                width: dp(30)
                                                height: self.parent.height
                                                text: root.number_star_5
                                                pos: self.parent.pos
                                                halign: "right"
                                                valign: "center"
                                                text_size: self.width * 0.9, self.height
                                                bold: True

                                        BoxLayout:
                                            orientation: "horizontal"
                                            Label:
                                                size_hint_x: None
                                                text: "4"
                                                font_size: sp(18)
                                                bold: True
                                                width: dp(30)
                                            Image:
                                                size_hint_x: None
                                                source: "Assets/star.png"
                                                font_size: sp(18)
                                                width: dp(30)
                                            Widget:
                                                id: star_4
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos
                                            Label:
                                                size_hint_x: None
                                                width: dp(30)
                                                height: self.parent.height
                                                text: root.number_star_4
                                                pos: self.parent.pos
                                                halign: "right"
                                                valign: "center"
                                                text_size: self.width * 0.9, self.height
                                                bold: True
                                        BoxLayout:
                                            orientation: "horizontal"
                                            Label:
                                                size_hint_x: None
                                                text: "3"
                                                font_size: sp(18)
                                                bold: True
                                                width: dp(30)
                                            Image:
                                                size_hint_x: None
                                                source: "Assets/star.png"
                                                font_size: sp(18)
                                                width: dp(30)
                                            Widget:
                                                id: star_3
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos
                                            Label:
                                                size_hint_x: None
                                                width: dp(30)
                                                height: self.parent.height
                                                text: root.number_star_3
                                                pos: self.parent.pos
                                                halign: "right"
                                                valign: "center"
                                                text_size: self.width * 0.9, self.height
                                                bold: True
                                        BoxLayout:
                                            orientation: "horizontal"
                                            Label:
                                                size_hint_x: None
                                                text: "2"
                                                font_size: sp(18)
                                                bold: True
                                                width: dp(30)
                                            Image:
                                                size_hint_x: None
                                                source: "Assets/star.png"
                                                font_size: sp(18)
                                                width: dp(30)
                                            Widget:
                                                id: star_2
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos
                                            Label:
                                                size_hint_x: None
                                                width: dp(30)
                                                height: self.parent.height
                                                text: root.number_star_2
                                                pos: self.parent.pos
                                                halign: "right"
                                                valign: "center"
                                                text_size: self.width * 0.9, self.height
                                                bold: True
                                        BoxLayout:
                                            orientation: "horizontal"
                                            Label:
                                                size_hint_x: None
                                                width: dp(30)
                                                text: "1"
                                                font_size: sp(18)
                                                bold: True
                                            Image:
                                                size_hint_x: None
                                                source: "Assets/star.png"
                                                font_size: sp(18)
                                                width: dp(30)
                                            Widget:
                                                id: star_1
                                                size_hint_x: 1
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos
                                            Label:
                                                size_hint_x: None
                                                width: dp(30)
                                                height: self.parent.height
                                                text: root.number_star_1
                                                pos: self.parent.pos
                                                halign: "right"
                                                valign: "center"
                                                text_size: self.width * 0.9, self.height
                                                bold: True
                                        Label:
                                            text: root.subcategory_name
                                            font_size: sp(14)
                                            bold: True
                                            color: "#86CD6E"

                                    AsyncImageButton:
                                        size_hint_x: None
                                        width: 50
                                        source: "Assets/arrow.png"
                                        color: "F2C15F"
                                        on_release: root.next_subcategory()
                                        canvas.before:
                                            PushMatrix
                                            Rotate:
                                                angle: 180
                                                axis: 0, 1, 0
                                                origin: self.center
                                        canvas.after:
                                            PopMatrix
                            
                            StackLayout:
                                orientation: "lr-tb"
                                width: dp(300)
                                size_hint_x: None
                                canvas.before:
                                    Color:
                                        rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                    Line:
                                        dash_length: 0.5
                                        rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                                
                                Label:
                                    text: "Result"
                                    size_hint_y: None
                                    height: dp(20)
                                    color: "#000000"
                                    bold: True

                                    canvas.before:
                                        Color:
                                            rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                        RoundedRectangle:
                                            size: self.width * 0.8, self.height
                                            pos: self.x + self.width * 0.1, self.y
                                    
                                BoxLayout:
                                    padding: dp(20)
                                    orientation: "vertical"
                                    StackLayout:
                                        orientation: "lr-tb"

                                        canvas.before:
                                            Color:
                                                rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                            Line:
                                                dash_length: 0.5
                                                rectangle: self.x, self.y, self.width, self.height
                                        Label:
                                            text: root.category_name
                                            size_hint_y: 0.2
                                            color: "#000000"
                                            bold: True

                                            canvas.before:
                                                Color:
                                                    rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                                Rectangle:
                                                    size: self.width, self.height
                                                    pos: self.pos
                                        Label:
                                            size_hint_y: 0.8
                                            text: root.subcategory_name
                                            color: "#ffffff"
                                            bold: True
                                            font_size: sp(14)
                                            text_size: self.width * 0.9, None 
                                            halign: "center"
                                            valign: "top"
                                            size_hint_y: None
                                    
                                    Label:
                                        size_hint_y: 0.5 
                                        text: root.result_text
                                        color: root.result_color
                                        bold: True
                                        font_size: sp(14)
                                        text_size: self.width, None 
                                        halign: "center"
                                        valign: "bottom"
                                    Widget:
                                        size_hint_y: None
                                        height: dp(10)

                            # StackLayout:
                            #     orientation: "lr-tb"
                            #     width: dp(300)
                            #     size_hint_x: None
                            #     canvas.before:
                            #         Color:
                            #             rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #         Line:
                            #             dash_length: 0.5
                            #             rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                            #     Label:
                            #         text: "Students Engagement"
                            #         size_hint_y: None
                            #         height: dp(20)
                            #         color: "#000000"
                            #         bold: True

                            #         canvas.before:
                            #             Color:
                            #                 rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #             RoundedRectangle:
                            #                 size: self.width * 0.8, self.height
                            #                 pos: self.x + self.width * 0.1, self.y
                            #     FloatLayout:
                            #         BoxLayout:
                            #             id: legend
                            #             orientation: "vertical"
                            #             spacing: dp(10)
                            #             size_hint: None, None
                            #             width: dp(80)
                            #             height: dp(80)
                            #             pos: self.parent.right - self.width - dp(5), self.parent.parent.y + dp(20)

                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 spacing: dp(10)
                            #                 Widget:
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (134 / 255, 207 / 255, 111 / 255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     text: str(root.positive_len)
                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 spacing: dp(10)
                            #                 Widget:
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (240 / 255, 137 / 255, 44 / 255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     text: str(root.neutral_len)
                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 spacing: dp(10)
                            #                 Widget:
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (237 / 255, 106 / 255, 110 / 255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     text: str(root.negative_len)


                            #         Widget: 
                            #             id: engagement_pie
                            #             size_hint: None, None
                            #             width: dp(120)
                            #             height: dp(120)
                            #             pos: self.parent.x, self.parent.y + 110
                                
                            # StackLayout:
                            #     orientation: "lr-tb"
                            #     width: dp(400)
                            #     size_hint_x: None
                            #     canvas.before:
                            #         Color:
                            #             rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #         Line:
                            #             dash_length: 0.5
                            #             rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                                
                            #     Label:
                            #         text: "Overall Sentiment"
                            #         size_hint_y: None
                            #         height: dp(20)
                            #         color: "#000000"
                            #         bold: True

                            #         canvas.before:
                            #             Color:
                            #                 rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #             RoundedRectangle:
                            #                 size: self.width * 0.8, self.height
                            #                 pos: self.x + self.width * 0.1, self.y
                            #     Widget:
                            #         size_hint_y: None
                            #         height: dp(20)
                            #     Label:
                            #         size_hint_y: None
                            #         height: dp(20)
                            #         text: root.max_percent_label
                            #         bold: True
                            #         color: 
                            #             (0.52, 0.81, 0.44) if root.max_percent_label == 'POSITIVE' else \
                            #             (0.75, 0.75, 0.25) if root.max_percent_label == 'NEUTRAL' else \
                            #             (0.85, 0.25, 0.25)
                            #     Widget:
                            #         size_hint_y: None
                            #         height: dp(10)
                            #     Label:
                            #         size_hint_y: None
                            #         height: dp(60)
                            #         font_size: dp(84)
                            #         text: str(root.max_percent) + "%"
                            #         bold: True
                            #     Widget:
                            #         size_hint_y: None
                            #         height: dp(10)
                            #     Label:
                            #         size_hint_y: None
                            #         height: dp(20)
                            #         text:
                            #             "The event was well-recieved and achieved its goal. Great work!" if root.max_percent_label == 'POSITIVE' else \
                            #             "The event was moderately successful, but there's room for improvement" if root.max_percent_label == 'NEUTRAL' else \
                            #             "The event faced challenges. Identify specific issues and address them to improve future experiences" if root.max_percent_label == 'NEGATIVE' else ''
                            #         bold: True
                            #         halign: 'center'
                            #         text_size: self.width * 0.9, None
                            #         font_size: sp(12)
                            #         color: 
                            #             (0.52, 0.81, 0.44) if root.max_percent_label == 'POSITIVE' else \
                            #             (0.75, 0.75, 0.25) if root.max_percent_label == 'NEUTRAL' else \
                            #             (0.85, 0.25, 0.25)

            ResponsiveBox:
                width: root.width
                orientation: 'horizontal'
                spacing: 10
                padding: 10
                size_hint: 0.95, None
                pos_hint: {'center_x': 0.5 }
                height: dp(300)
                will_adjust: False

                StackLayout:
                    orientation: "lr-tb"
                    canvas.before:
                        Color:
                            rgb: 0xF2/255, 0xC1/255, 0x5F/255
                        Line:
                            dash_length: 0.5
                            rectangle: self.x+10, self.y+10, self.width-20, self.height-20

                    Label:
                        text: "Comments-Based Analysis"
                        size_hint_y: None
                        height: dp(30)
                        color: "#000000"
                        bold: True
                        font_size: sp(18)
                        canvas.before:
                            Color:
                                rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            Rectangle:
                                size: self.width * 0.8, self.height
                                pos: self.x + self.width * 0.1, self.y
                    
                    Widget:
                        size_hint_y: None
                        height: dp(10)
                    Widget:
                        size_hint_x: None
                        width: self.parent.width * 0.05

                    ScrollView:
                        size_hint: None, None
                        width: self.parent.width * 0.9
                        height: dp(220)

                        BoxLayout:
                            size_hint_x: None
                            width: self.minimum_width
                            spacing: dp(5)
                            padding: dp(5)

                            StackLayout:
                                orientation: "lr-tb"
                                width: dp(350)
                                size_hint_x: None
                                canvas.before:
                                    Color:
                                        rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                    Line:
                                        dash_length: 0.5
                                        rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                                Label:
                                    text: "Students Engagement"
                                    size_hint_y: None
                                    height: dp(20)
                                    color: "#000000"
                                    bold: True

                                    canvas.before:
                                        Color:
                                            rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                        RoundedRectangle:
                                            size: self.width * 0.8, self.height
                                            pos: self.x + self.width * 0.1, self.y
                                FloatLayout:
                                    BoxLayout:
                                        id: legend
                                        orientation: "vertical"
                                        spacing: dp(10)
                                        size_hint: None, None
                                        width: dp(60)
                                        height: dp(80)
                                        pos: self.parent.right - self.width - dp(15), self.parent.parent.y + dp(20)

                                        BoxLayout:
                                            orientation: "horizontal"
                                            Image:
                                                source: "assets/3.png"
                                                # canvas.before:
                                                #     Color:
                                                #         rgb: (134 / 255, 207 / 255, 111 / 255)
                                                #     RoundedRectangle:
                                                #         size: self.size
                                                #         pos: self.pos
                                            Label:
                                                text: str(root.positive_len)
                                        BoxLayout:
                                            orientation: "horizontal"
                                            Image:
                                                source: "assets/4.png"
                                                # canvas.before:
                                                #     Color:
                                                #         rgb: (240 / 255, 137 / 255, 44 / 255)
                                                #     RoundedRectangle:
                                                #         size: self.size
                                                #         pos: self.pos
                                            Label:
                                                text: str(root.neutral_len)
                                        BoxLayout:
                                            orientation: "horizontal"
                                            Image:
                                                source: "assets/5.png"
                                                # canvas.before:
                                                #     Color:
                                                #         rgb: (237 / 255, 106 / 255, 110 / 255)
                                                #     RoundedRectangle:
                                                #         size: self.size
                                                #         pos: self.pos
                                            Label:
                                                text: str(root.negative_len)


                                    Widget: 
                                        id: engagement_pie
                                        size_hint: None, None
                                        width: dp(120)
                                        height: dp(120)
                                        pos: self.parent.x, self.parent.y + 110
                                
                            StackLayout:
                                orientation: "lr-tb"
                                width: dp(400)
                                size_hint_x: None
                                canvas.before:
                                    Color:
                                        rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                    Line:
                                        dash_length: 0.5
                                        rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                                
                                Label:
                                    text: "Overall Sentiment"
                                    size_hint_y: None
                                    height: dp(20)
                                    color: "#000000"
                                    bold: True

                                    canvas.before:
                                        Color:
                                            rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                        RoundedRectangle:
                                            size: self.width * 0.8, self.height
                                            pos: self.x + self.width * 0.1, self.y
                                Widget:
                                    size_hint_y: None
                                    height: dp(20)
                                Label:
                                    size_hint_y: None
                                    height: dp(20)
                                    text: root.max_percent_label
                                    bold: True
                                    color: 
                                        (0.52, 0.81, 0.44) if root.max_percent_label == 'POSITIVE' else \
                                        (0.75, 0.75, 0.25) if root.max_percent_label == 'NEUTRAL' else \
                                        (0.85, 0.25, 0.25)
                                Widget:
                                    size_hint_y: None
                                    height: dp(10)
                                Label:
                                    size_hint_y: None
                                    height: dp(60)
                                    font_size: dp(84)
                                    text: str(root.max_percent) + "%"
                                    bold: True
                                Widget:
                                    size_hint_y: None
                                    height: dp(10)
                                Label:
                                    size_hint_y: None
                                    height: dp(20)
                                    text:
                                        "The event was well-recieved and achieved its goal. Great work!" if root.max_percent_label == 'POSITIVE' else \
                                        "The event was moderately successful, but there's room for improvement" if root.max_percent_label == 'NEUTRAL' else \
                                        "The event faced challenges. Identify specific issues and address them to improve future experiences" if root.max_percent_label == 'NEGATIVE' else ''
                                    bold: True
                                    halign: 'center'
                                    text_size: self.width * 0.9, None
                                    font_size: sp(12)
                                    color: 
                                        (0.52, 0.81, 0.44) if root.max_percent_label == 'POSITIVE' else \
                                        (0.75, 0.75, 0.25) if root.max_percent_label == 'NEUTRAL' else \
                                        (0.85, 0.25, 0.25)

                            # StackLayout:
                            #     orientation: "lr-tb"
                            #     width: dp(500)
                            #     size_hint_x: None
                            #     canvas.before:
                            #         Color:
                            #             rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #         Line:
                            #             dash_length: 0.5
                            #             rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                            #     Label:
                            #         text: root.category_name
                            #         size_hint_y: None
                            #         height: dp(20)
                            #         color: "#000000"
                            #         bold: True

                            #         canvas.before:
                            #             Color:
                            #                 rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #             RoundedRectangle:
                            #                 size: self.width * 0.8, self.height
                            #                 pos: self.x + self.width * 0.1, self.y
                                
                            #     BoxLayout:
                            #         orientation: "horizontal"
                            #         AsyncImageButton:
                            #             size_hint_x: None
                            #             width: 50
                            #             source: "Assets/arrow.png"
                            #             color: "F2C15F"
                            #             on_release: root.prev_subcategory()
                            #         GridLayout:
                            #             size_hint_x: 0.8
                            #             rows: 6
                            #             spacing: 10
                            #             padding: [dp(50), dp(10), dp(50), dp(50)]

                                        
                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 Label:
                            #                     size_hint_x: None
                            #                     text: "5"
                            #                     font_size: sp(18)
                            #                     bold: True
                            #                     width: dp(30)
                            #                 Image:
                            #                     size_hint_x: None
                            #                     source: "Assets/star.png"
                            #                     font_size: sp(18)
                            #                     width: dp(30)
                            #                 Widget:
                            #                     id: star_5
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (17/255,46/255,83/255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     size_hint_x: None
                            #                     width: dp(30)
                            #                     height: self.parent.height
                            #                     text: root.number_star_5
                            #                     pos: self.parent.pos
                            #                     halign: "right"
                            #                     valign: "center"
                            #                     text_size: self.width * 0.9, self.height
                            #                     bold: True

                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 Label:
                            #                     size_hint_x: None
                            #                     text: "4"
                            #                     font_size: sp(18)
                            #                     bold: True
                            #                     width: dp(30)
                            #                 Image:
                            #                     size_hint_x: None
                            #                     source: "Assets/star.png"
                            #                     font_size: sp(18)
                            #                     width: dp(30)
                            #                 Widget:
                            #                     id: star_4
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (17/255,46/255,83/255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     size_hint_x: None
                            #                     width: dp(30)
                            #                     height: self.parent.height
                            #                     text: root.number_star_4
                            #                     pos: self.parent.pos
                            #                     halign: "right"
                            #                     valign: "center"
                            #                     text_size: self.width * 0.9, self.height
                            #                     bold: True
                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 Label:
                            #                     size_hint_x: None
                            #                     text: "3"
                            #                     font_size: sp(18)
                            #                     bold: True
                            #                     width: dp(30)
                            #                 Image:
                            #                     size_hint_x: None
                            #                     source: "Assets/star.png"
                            #                     font_size: sp(18)
                            #                     width: dp(30)
                            #                 Widget:
                            #                     id: star_3
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (17/255,46/255,83/255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     size_hint_x: None
                            #                     width: dp(30)
                            #                     height: self.parent.height
                            #                     text: root.number_star_3
                            #                     pos: self.parent.pos
                            #                     halign: "right"
                            #                     valign: "center"
                            #                     text_size: self.width * 0.9, self.height
                            #                     bold: True
                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 Label:
                            #                     size_hint_x: None
                            #                     text: "2"
                            #                     font_size: sp(18)
                            #                     bold: True
                            #                     width: dp(30)
                            #                 Image:
                            #                     size_hint_x: None
                            #                     source: "Assets/star.png"
                            #                     font_size: sp(18)
                            #                     width: dp(30)
                            #                 Widget:
                            #                     id: star_2
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (17/255,46/255,83/255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     size_hint_x: None
                            #                     width: dp(30)
                            #                     height: self.parent.height
                            #                     text: root.number_star_2
                            #                     pos: self.parent.pos
                            #                     halign: "right"
                            #                     valign: "center"
                            #                     text_size: self.width * 0.9, self.height
                            #                     bold: True
                            #             BoxLayout:
                            #                 orientation: "horizontal"
                            #                 Label:
                            #                     size_hint_x: None
                            #                     width: dp(30)
                            #                     text: "1"
                            #                     font_size: sp(18)
                            #                     bold: True
                            #                 Image:
                            #                     size_hint_x: None
                            #                     source: "Assets/star.png"
                            #                     font_size: sp(18)
                            #                     width: dp(30)
                            #                 Widget:
                            #                     id: star_1
                            #                     size_hint_x: 1
                            #                     canvas.before:
                            #                         Color:
                            #                             rgb: (17/255,46/255,83/255)
                            #                         RoundedRectangle:
                            #                             size: self.size
                            #                             pos: self.pos
                            #                 Label:
                            #                     size_hint_x: None
                            #                     width: dp(30)
                            #                     height: self.parent.height
                            #                     text: root.number_star_1
                            #                     pos: self.parent.pos
                            #                     halign: "right"
                            #                     valign: "center"
                            #                     text_size: self.width * 0.9, self.height
                            #                     bold: True
                            #             Label:
                            #                 text: root.subcategory_name
                            #                 font_size: sp(14)
                            #                 bold: True

                            #         AsyncImageButton:
                            #             size_hint_x: None
                            #             width: 50
                            #             source: "Assets/arrow.png"
                            #             color: "F2C15F"
                            #             on_release: root.next_subcategory()
                            #             canvas.before:
                            #                 PushMatrix
                            #                 Rotate:
                            #                     angle: 180
                            #                     axis: 0, 1, 0
                            #                     origin: self.center
                            #             canvas.after:
                            #                 PopMatrix

                            StackLayout:
                                orientation: "lr-tb"
                                width: dp(350)
                                size_hint_x: None
                                canvas.before:
                                    Color:
                                        rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                    Line:
                                        dash_length: 0.5
                                        rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                                
                                Label:
                                    text: "Visualization"
                                    size_hint_y: None
                                    height: dp(20)
                                    color: "#000000"
                                    bold: True

                                    canvas.before:
                                        Color:
                                            rgb: 0xF2/255, 0xC1/255, 0x5F/255
                                        RoundedRectangle:
                                            size: self.width * 0.8, self.height
                                            pos: self.x + self.width * 0.1, self.y

                
                            # StackLayout:
                            #     orientation: "lr-tb"
                            #     size_hint_x: None if root.width > 900 else 1
                            #     width: dp(300)
                            #     canvas.before:
                            #         Color:
                            #             rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #         Line:
                            #             dash_length: 0.5
                            #             rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                                
                            #     Label:
                            #         text: "Visualization"
                            #         size_hint_y: None
                            #         height: dp(20)
                            #         color: "#000000"
                            #         bold: True
                            #         canvas.before:
                            #             Color:
                            #                 rgb: 0xF2/255, 0xC1/255, 0x5F/255
                            #             RoundedRectangle:
                            #                 size: self.width * 0.8, self.height
                            #                 pos: self.x + self.width * 0.1, self.y

                                BoxLayout:
                                    orientation: "vertical"
                                    padding: [dp(30), dp(0), dp(30), dp(50)]
                                    BoxLayout:
                                        orientation: "horizontal"
                                        spacing: dp(10)
                                        
                                        BoxLayout:
                                            orientation: "vertical"
                                            size_hint_x: 0.1
                                            Widget:
                                            Image:
                                                source: "assets/6.png"
                                        BoxLayout:
                                            orientation: "vertical"
                                            BoxLayout:
                                                orientation: "horizontal"
                                                Label:
                                                    text_size: self.width, None
                                                    halign: "left"
                                                    text: "Positive"
                                                    font_size: sp(16)
                                                    bold: True
                                                Label:
                                                    text_size: self.width, None
                                                    halign: "right"
                                                    text: f"{root.positive_percent:.2f}%"
                                                    font_size: sp(16)
                                                    bold: True
                                            Widget:
                                                id: positive_bar
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos
                                    BoxLayout:
                                        orientation: "horizontal"
                                        spacing: dp(10)
                                        BoxLayout:
                                            orientation: "vertical"
                                            size_hint_x: 0.1
                                            Widget:
                                            Image:
                                                source: "assets/7.png"
                                        BoxLayout:
                                            orientation: "vertical"
                                            BoxLayout:
                                                orientation: "horizontal"
                                                Label:
                                                    text_size: self.width, None
                                                    halign: "left"
                                                    text: "Neutral"
                                                    font_size: sp(16)
                                                    bold: True
                                                Label:
                                                    text_size: self.width, None
                                                    halign: "right"
                                                    text: f"{root.neutral_percent:.2f}%"
                                                    font_size: sp(16)
                                                    bold: True
                                            Widget:
                                                id: neutral_bar
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos
                                    BoxLayout:
                                        orientation: "horizontal"
                                        spacing: dp(10)
                                        BoxLayout:
                                            orientation: "vertical"
                                            size_hint_x: 0.1
                                            Widget:
                                            Image:
                                                source: "assets/8.png"
                                        BoxLayout:
                                            orientation: "vertical"
                                            BoxLayout:
                                                orientation: "horizontal"
                                                Label:
                                                    text_size: self.width, None
                                                    halign: "left"
                                                    text: "Negative"
                                                    font_size: sp(16)
                                                    bold: True
                                                Label:
                                                    text_size: self.width, None
                                                    halign: "right"
                                                    text: f"{root.negative_percent:.2f}%"
                                                    font_size: sp(16)
                                                    bold: True
                                            Widget:
                                                id: negative_bar
                                                canvas.before:
                                                    Color:
                                                        rgb: (17/255,46/255,83/255)
                                                    RoundedRectangle:
                                                        size: self.size
                                                        pos: self.pos

    #             Stackayout:
    #                 oientation: "lr-tb"
    #                 sze_hint_y: 0.85
    #                 canvas.before:
    #                     Color:
    #                         rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                     Line:
    #                         dash_length: 0.5
    #                         rectangle: self.x+10, self.y+10, self.width-20, self.height-20

    #                 Label:
    #                     text: root.category_name
    #                     size_hint_y: None
    #                     height: dp(20)
    #                     color: "#000000"
    #                     bold: True
    #                     canvas.before:
    #                         Color:
    #                             rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                         RoundedRectangle:
    #                             size: self.width * 0.8, self.height
    #                             pos: self.x + self.width * 0.1, self.y
                    
    #                 BoxLayout:
    #                     orientation: "horizontal"
    #                     AsyncImageButton:
    #                         size_hint_x: None
    #                         width: 50
    #                         source: "Assets/arrow.png"
    #                         color: "F2C15F"
    #                         on_release: root.prev_subcategory()
    #                     GridLayout:
    #                         size_hint_x: 0.8
    #                         rows: 6
    #                         spacing: 10
    #                         padding: [dp(50), dp(10), dp(50), dp(50)]

                            
    #                         BoxLayout:
    #                             orientation: "horizontal"
    #                             Label:
    #                                 size_hint_x: None
    #                                 text: "5"
    #                                 font_size: sp(18)
    #                                 bold: True
    #                                 width: dp(30)
    #                             Image:
    #                                 size_hint_x: None
    #                                 source: "Assets/star.png"
    #                                 font_size: sp(18)
    #                                 width: dp(30)
    #                             Widget:
    #                                 id: star_5
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos
    #                             Label:
    #                                 size_hint_x: None
    #                                 width: dp(30)
    #                                 height: self.parent.height
    #                                 text: root.number_star_5
    #                                 pos: self.parent.pos
    #                                 halign: "right"
    #                                 valign: "center"
    #                                 text_size: self.width * 0.9, self.height
    #                                 bold: True

    #                         BoxLayout:
    #                             orientation: "horizontal"
    #                             Label:
    #                                 size_hint_x: None
    #                                 text: "4"
    #                                 font_size: sp(18)
    #                                 bold: True
    #                                 width: dp(30)
    #                             Image:
    #                                 size_hint_x: None
    #                                 source: "Assets/star.png"
    #                                 font_size: sp(18)
    #                                 width: dp(30)
    #                             Widget:
    #                                 id: star_4
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos
    #                             Label:
    #                                 size_hint_x: None
    #                                 width: dp(30)
    #                                 height: self.parent.height
    #                                 text: root.number_star_4
    #                                 pos: self.parent.pos
    #                                 halign: "right"
    #                                 valign: "center"
    #                                 text_size: self.width * 0.9, self.height
    #                                 bold: True
    #                         BoxLayout:
    #                             orientation: "horizontal"
    #                             Label:
    #                                 size_hint_x: None
    #                                 text: "3"
    #                                 font_size: sp(18)
    #                                 bold: True
    #                                 width: dp(30)
    #                             Image:
    #                                 size_hint_x: None
    #                                 source: "Assets/star.png"
    #                                 font_size: sp(18)
    #                                 width: dp(30)
    #                             Widget:
    #                                 id: star_3
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos
    #                             Label:
    #                                 size_hint_x: None
    #                                 width: dp(30)
    #                                 height: self.parent.height
    #                                 text: root.number_star_3
    #                                 pos: self.parent.pos
    #                                 halign: "right"
    #                                 valign: "center"
    #                                 text_size: self.width * 0.9, self.height
    #                                 bold: True
    #                         BoxLayout:
    #                             orientation: "horizontal"
    #                             Label:
    #                                 size_hint_x: None
    #                                 text: "2"
    #                                 font_size: sp(18)
    #                                 bold: True
    #                                 width: dp(30)
    #                             Image:
    #                                 size_hint_x: None
    #                                 source: "Assets/star.png"
    #                                 font_size: sp(18)
    #                                 width: dp(30)
    #                             Widget:
    #                                 id: star_2
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos
    #                             Label:
    #                                 size_hint_x: None
    #                                 width: dp(30)
    #                                 height: self.parent.height
    #                                 text: root.number_star_2
    #                                 pos: self.parent.pos
    #                                 halign: "right"
    #                                 valign: "center"
    #                                 text_size: self.width * 0.9, self.height
    #                                 bold: True
    #                         BoxLayout:
    #                             orientation: "horizontal"
    #                             Label:
    #                                 size_hint_x: None
    #                                 width: dp(30)
    #                                 text: "1"
    #                                 font_size: sp(18)
    #                                 bold: True
    #                             Image:
    #                                 size_hint_x: None
    #                                 source: "Assets/star.png"
    #                                 font_size: sp(18)
    #                                 width: dp(30)
    #                             Widget:
    #                                 id: star_1
    #                                 size_hint_x: 1
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos
    #                             Label:
    #                                 size_hint_x: None
    #                                 width: dp(30)
    #                                 height: self.parent.height
    #                                 text: root.number_star_1
    #                                 pos: self.parent.pos
    #                                 halign: "right"
    #                                 valign: "center"
    #                                 text_size: self.width * 0.9, self.height
    #                                 bold: True
    #                         Label:
    #                             text: root.subcategory_name
    #                             font_size: sp(18)
    #                             bold: True

    #                     AsyncImageButton:
    #                         size_hint_x: None
    #                         width: 50
    #                         source: "Assets/arrow.png"
    #                         color: "F2C15F"
    #                         on_release: root.next_subcategory()
    #                         canvas.before:
    #                             PushMatrix
    #                             Rotate:
    #                                 angle: 180
    #                                 axis: 0, 1, 0
    #                                 origin: self.center
    #                         canvas.after:
    #                             PopMatrix

    #         BoxLayout:
    #             orientation: 'vertical'

    #             Widget:
    #                 size_hint_y: None
    #                 height: dp(30)

    #             GridLayout:
    #                 cols: 2
    #                 StackLayout:
    #                     orientation: "lr-tb"
    #                     canvas.before:
    #                         Color:
    #                             rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                         Line:
    #                             dash_length: 0.5
    #                             rectangle: self.x+10, self.y+10, self.width-20, self.height-20
    #                     Label:
    #                         text: "Students Engagement"
    #                         size_hint_y: None
    #                         height: dp(20)
    #                         color: "#000000"
    #                         bold: True

    #                         canvas.before:
    #                             Color:
    #                                 rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                             RoundedRectangle:
    #                                 size: self.width * 0.8, self.height
    #                                 pos: self.x + self.width * 0.1, self.y
    #                     FloatLayout:
    #                         BoxLayout:
    #                             id: legend
    #                             orientation: "vertical"
    #                             spacing: dp(10)
    #                             size_hint: None, None
    #                             width: dp(80)
    #                             height: dp(80)
    #                             pos: self.parent.x+20, self.parent.top - dp(100)

    #                             BoxLayout:
    #                                 orientation: "horizontal"
    #                                 spacing: dp(10)
    #                                 Widget:
    #                                     canvas.before:
    #                                         Color:
    #                                             rgb: (134 / 255, 207 / 255, 111 / 255)
    #                                         RoundedRectangle:
    #                                             size: self.size
    #                                             pos: self.pos
    #                                 Label:
    #                                     text: str(root.positive_len)
    #                             BoxLayout:
    #                                 orientation: "horizontal"
    #                                 spacing: dp(10)
    #                                 Widget:
    #                                     canvas.before:
    #                                         Color:
    #                                             rgb: (240 / 255, 137 / 255, 44 / 255)
    #                                         RoundedRectangle:
    #                                             size: self.size
    #                                             pos: self.pos
    #                                 Label:
    #                                     text: str(root.neutral_len)
    #                             BoxLayout:
    #                                 orientation: "horizontal"
    #                                 spacing: dp(10)
    #                                 Widget:
    #                                     canvas.before:
    #                                         Color:
    #                                             rgb: (237 / 255, 106 / 255, 110 / 255)
    #                                         RoundedRectangle:
    #                                             size: self.size
    #                                             pos: self.pos
    #                                 Label:
    #                                     text: str(root.negative_len)


    #                         Widget: 
    #                             id: engagement_pie
    #                             size_hint: None, None
    #                             width: dp(120)
    #                             height: dp(120)
    #                             pos: self.parent.x+20, self.parent.y + 110

    #                 StackLayout:
    #                     orientation: "lr-tb"
    #                     canvas.before:
    #                         Color:
    #                             rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                         Line:
    #                             dash_length: 0.5
    #                             rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                        
    #                     Label:
    #                         text: "Overall Sentiment"
    #                         size_hint_y: None
    #                         height: dp(20)
    #                         color: "#000000"
    #                         bold: True

    #                         canvas.before:
    #                             Color:
    #                                 rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                             RoundedRectangle:
    #                                 size: self.width * 0.8, self.height
    #                                 pos: self.x + self.width * 0.1, self.y
    #                     Widget:
    #                         size_hint_y: None
    #                         height: dp(50)
    #                     Label:
    #                         size_hint_y: None
    #                         height: dp(20)
    #                         text: root.max_percent_label
    #                         bold: True
    #                         color: 
    #                             (0.52, 0.81, 0.44) if root.max_percent_label == 'POSITIVE' else \
    #                             (0.75, 0.75, 0.25) if root.max_percent_label == 'NEUTRAL' else \
    #                             (0.85, 0.25, 0.25)
    #                     Widget:
    #                         size_hint_y: None
    #                         height: dp(10)
    #                     Label:
    #                         size_hint_y: None
    #                         height: dp(60)
    #                         font_size: dp(84)
    #                         text: str(root.max_percent) + "%"
    #                         bold: True
    #                     Widget:
    #                         size_hint_y: None
    #                         height: dp(10)
    #                     Label:
    #                         size_hint_y: None
    #                         height: dp(20)
    #                         text:
    #                             "The event was well-recieved and achieved its goal. Great work!" if root.max_percent_label == 'POSITIVE' else \
    #                             "The event was moderately successful, but there's room for improvement" if root.max_percent_label == 'NEUTRAL' else \
    #                             "The event faced challenges. Identify specific issues and address them to improve future experiences" if root.max_percent_label == 'NEGATIVE' else ''
    #                         bold: True
    #                         halign: 'center'
    #                         text_size: self.width * 0.9, None
    #                         font_size: sp(12)
    #                         color: 
    #                             (0.52, 0.81, 0.44) if root.max_percent_label == 'POSITIVE' else \
    #                             (0.75, 0.75, 0.25) if root.max_percent_label == 'NEUTRAL' else \
    #                             (0.85, 0.25, 0.25)
    #                     Widget:
    #             GridLayout:
    #                 cols: 2

    #                 StackLayout:
    #                     orientation: "lr-tb"
    #                     canvas.before:
    #                         Color:
    #                             rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                         Line:
    #                             dash_length: 0.5
    #                             rectangle: self.x+10, self.y+10, self.width-20, self.height-20
                        
    #                     Label:
    #                         text: "Result"
    #                         size_hint_y: None
    #                         height: dp(20)
    #                         color: "#000000"
    #                         bold: True

    #                         canvas.before:
    #                             Color:
    #                                 rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                             RoundedRectangle:
    #                                 size: self.width * 0.8, self.height
    #                                 pos: self.x + self.width * 0.1, self.y
                            
    #                     GridLayout:
    #                         rows: 3
    #                         padding: dp(30)
    #                         StackLayout:
    #                             orientation: "lr-tb"
    #                             size_hint_y: None
    #                             height: dp(150)
    #                             canvas.before:
    #                                 Color:
    #                                     rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                                 Line:
    #                                     dash_length: 0.5
    #                                     rectangle: self.x+10, self.y+10, self.width-20, self.height-20
    #                             Label:
    #                                 text: root.category_name
    #                                 size_hint_y: None
    #                                 height: dp(20)
    #                                 color: "#000000"
    #                                 bold: True

    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                                     RoundedRectangle:
    #                                         size: self.width * 0.8, self.height
    #                                         pos: self.x + self.width * 0.1, self.y
    #                             Label:
    #                                 text: root.subcategory_name
    #                                 color: "#ffffff"
    #                                 bold: True
    #                                 font_size: sp(18)
    #                                 text_size: self.width * 0.9, None 
    #                                 halign: "center"
    #                                 valign: "bottom"
                            
    #                         Label:
    #                             size_hint_y: 0.5 
    #                             text: root.result_text
    #                             color: root.result_color
    #                             bold: True
    #                             font_size: sp(16)
    #                             text_size: self.width, None 
    #                             halign: "center"
    #                             valign: "bottom"

    #                         Widget:
    #                             size_hint_y: None
    #                             height: dp(50)
    #                     # Label:
    #                     #     size_hint_y: None
    #                     #     height: dp(20)
    #                     #     text: root.max_percent_label
    #                     #     bold: True
    #                     #     color: 
    #                     #         (0.52, 0.81, 0.44) if root.max_percent_label == 'POSITIVE' else \
    #                     #         (0.75, 0.75, 0.25) if root.max_percent_label == 'NEUTRAL' else \
    #                     #         (0.85, 0.25, 0.25)
    #                     # Widget:
    #                     #     size_hint_y: None
    #                     #     height: dp(10)
    #                     # Label:
    #                     #     size_hint_y: None
    #                     #     height: dp(60)
    #                     #     font_size: dp(84)
    #                     #     text: str(root.max_percent) + "%"
    #                     #     bold: True
    #                     Widget:

    #                 BoxLayout:
    #                     orientation: "vertical"
    #                     padding: dp(30)
    #                     canvas.before:
    #                         Color:
    #                             rgb: 0xF2/255, 0xC1/255, 0x5F/255
    #                         Line:
    #                             dash_length: 0.5
    #                             rectangle: self.x+10, self.y+10, self.width-20, self.height-20

    #                     BoxLayout:
    #                         orientation: "horizontal"
    #                         spacing: dp(10)
                            
    #                         BoxLayout:
    #                             orientation: "vertical"
    #                             size_hint_x: 0.1
    #                             Widget:
    #                             Image:
    #                                 source: "Assets/neutral.png"
    #                         BoxLayout:
    #                             orientation: "vertical"
    #                             BoxLayout:
    #                                 orientation: "horizontal"
    #                                 Label:
    #                                     text_size: self.width, None
    #                                     halign: "left"
    #                                     text: "Positive"
    #                                     font_size: sp(16)
    #                                     bold: True
    #                                 Label:
    #                                     text_size: self.width, None
    #                                     halign: "right"
    #                                     text: f"{root.positive_percent:.2f}%"
    #                                     font_size: sp(16)
    #                                     bold: True
    #                             Widget:
    #                                 id: positive_bar
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos

    #                     BoxLayout:
    #                         orientation: "horizontal"
    #                         spacing: dp(10)
    #                         BoxLayout:
    #                             orientation: "vertical"
    #                             size_hint_x: 0.1
    #                             Widget:
    #                             AsyncImage:
    #                                 source: "https://cdn-icons-png.freepik.com/512/8632/8632266.png"
    #                         BoxLayout:
    #                             orientation: "vertical"
    #                             BoxLayout:
    #                                 orientation: "horizontal"
    #                                 Label:
    #                                     text_size: self.width, None
    #                                     halign: "left"
    #                                     text: "Neutral"
    #                                     font_size: sp(16)
    #                                     bold: True
    #                                 Label:
    #                                     text_size: self.width, None
    #                                     halign: "right"
    #                                     text: f"{root.neutral_percent:.2f}%"
    #                                     font_size: sp(16)
    #                                     bold: True
    #                             Widget:
    #                                 id: neutral_bar
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos


    #                     BoxLayout:
    #                         orientation: "horizontal"
    #                         spacing: dp(10)
    #                         BoxLayout:
    #                             orientation: "vertical"
    #                             size_hint_x: 0.1
    #                             Widget:
    #                             AsyncImage:
    #                                 source: "https://cdn3.iconfinder.com/data/icons/social-messaging-ui-color-shapes-2/128/face-sad-red-512.png"
    #                         BoxLayout:
    #                             orientation: "vertical"
    #                             BoxLayout:
    #                                 orientation: "horizontal"
    #                                 Label:
    #                                     text_size: self.width, None
    #                                     halign: "left"
    #                                     text: "Negative"
    #                                     font_size: sp(16)
    #                                     bold: True
    #                                 Label:
    #                                     text_size: self.width, None
    #                                     halign: "right"
    #                                     text: f"{root.negative_percent:.2f}%"
    #                                     font_size: sp(16)
    #                                     bold: True
    #                             Widget:
    #                                 id: negative_bar
    #                                 canvas.before:
    #                                     Color:
    #                                         rgb: (17/255,46/255,83/255)
    #                                     RoundedRectangle:
    #                                         size: self.size
    #                                         pos: self.pos

